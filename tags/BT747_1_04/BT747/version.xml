<?xml version="1.0" encoding="UTF-8" ?>
<!-- An Ant build file for BT747
--><project name="BT747" basedir="." default="build++">
    <property name="encoding" value="UTF-8"/>
 
<target name="init">
  		<tstamp>
    		<format property="DATE" pattern="yyyyMMdd"/>
    		<format property="DATE_DE" pattern="dd.MM.yyyy"/>
    		<format property="DATE_UND" pattern="dd_MM_yyyy"/>
    		<format property="DATE_TIME" pattern="yyyyMMdd_HHmmss"/>
    		<format property="DATETIME_DE" pattern="dd.MM.yyyy HH:mm:ss"/>
    		<format property="TIMESTAMP" pattern="yyyyMMddHHmmssSSS"/>
    	</tstamp>
    	
    	<echo level="info">
	        Project: ${ant.project.name} (${basedir})
	    	Build file: ${ant.file}
	        Java: ${java.version} ${java.vendor}
	        OS: ${os.name} ${os.version} ${os.arch}
	       	${ant.version} (Java: ${ant.java.version})
	       	Time: ${DATETIME_DE}
    	</echo>
    </target>
 
    <target name="build++" depends="init" description="increase build number and set release date">
        <!-- required lib: Jakarta ORO for optional task <replaceregexp> -->
    	<replaceregexp file="src/Version.java" encoding="${encoding}" match="BUILD = [0-9]+L;" replace="BUILD = ${TIMESTAMP}L;"/>
    	<replaceregexp file="src/Version.java" encoding="${encoding}" match="DATE = [^a]*;" replace='DATE = "${DATE_DE}";'/>	
    	<replaceregexp file="package.bat" encoding="${encoding}" match="SET DT=[^\n]*" replace='SET DT=${DATE_TIME}'/>	
    </target>



</project>